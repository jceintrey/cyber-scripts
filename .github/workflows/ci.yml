name: CI


on:
pull_request:
paths:
- 'tools/**'
- 'scripts/**'
- '.github/workflows/**'
push:
branches: [ main ]
paths:
- 'tools/**'
- 'scripts/**'


jobs:
lint-and-test:
runs-on: ubuntu-latest


steps:
- uses: actions/checkout@v4


- name: Set up Python
uses: actions/setup-python@v4
with:
python-version: '3.11'


- name: Install requirements (if any)
run: |
if [ -f tools/example-tool/requirements.txt ]; then
python -m pip install -r tools/example-tool/requirements.txt || true
fi


- name: Lint (optional)
run: |
python -m pip install flake8 || true
flake8 . || true


- name: Run tests
run: |
python -m pip install pytest || true
pytest -q || true
